@model WebApplication1.Models.MainSystem.MainSystemViewModel.AspVendorViewModel
@{
    ViewData["Title"] = "Detail Vendor";
    Layout = "~/Views/Shared/_Layout.cshtml";
}
<section id="content">
    <div class="container">
        <div class="card">
            <div class="card-header">
                <h2>Detail of @Html.DisplayFor(model=>Model.VendorDetail.CompanyName)</h2>
            </div>
            <div class="card-body card-padding">
                <div class="form-group">
                    <div class="row">
                        <div class="col-12">
                            <div class="form-group" id="form-activate">
                                
                                <center><span class="text-danger h4">This Vendor is inactive, Click The button in the end of page to activate</span></center>
                            </div>
                            <div class="col-md-4">
                                <div class="form-group lightbox-item p-item">
                                    <center>
                                        <a id="link-pict" data-fancybox data-caption="@Html.DisplayFor(a => a.VendorDetail.CompanyName)" href="~/dist/img/@ViewBag.Pict">
                                        <img id="profile-picture" alt="User profile picture" src="~/dist/img/@ViewBag.Pict" style="width:250px; height:250px; max-width:100%; max-height:100%; border-radius:50%" />
                                        </a>
                                    </center>
                                    <center><span>Profile Picture of @Html.DisplayFor(a => a.VendorDetail.CompanyName)</span></center>
                                    <br />
                                    <br />
                                    <center class="h3">Detail Users</center>
                                    <table class="table-custom" style="width:100%">
                                        <tr>
                                            <td width="30%"><strong>User Name</strong></td>
                                            <td width="10%">:</td>
                                            <td width="60%">@Html.DisplayFor(a => a.Users.UserName)</td>
                                        </tr>
                                        <tr>
                                            <td width="30%"><strong>Email</strong></td>
                                            <td width="10%">:</td>
                                            <td width="60%">@Html.DisplayFor(a => a.Users.Email)</td>
                                        </tr>
                                        <tr>
                                            <td width="30%"><strong>Phone</strong></td>
                                            <td width="10%">:</td>
                                            <td width="60%">@Html.DisplayFor(a => a.Users.PhoneNumber)</td>
                                        </tr>
                                    </table>
                                </div>
                            </div>

                            <div class="col-md-6">
                                <span id="VendorId" class="hide" hidden>@Html.DisplayFor(a=>a.VendorDetail.Id)</span>
                                <center class="h2">Company Detail</center>
                                <br /><br />
                                <table style="width:100%" class="table-custom">
                                    <tr>
                                        <td width="30%"><strong>Company Name</strong></td>
                                        <td width="10%">:</td>
                                        <td width="60%"><span id="vendor-names">@Html.DisplayFor(a => a.VendorDetail.CompanyName)</span></td>
                                    </tr>
                                    <tr>
                                        <td><strong>Company Address</strong></td>
                                        <td>:</td>
                                        <td>@Html.DisplayFor(a => a.VendorDetail.Address)</td>
                                    </tr>
                                    <tr>
                                        <td><strong>Company City</strong></td>
                                        <td>:</td>
                                        <td>@Html.DisplayFor(a => a.VendorDetail.VendorCity)</td>
                                    </tr>
                                    <tr>
                                        <td><strong>Company Country</strong></td>
                                        <td>:</td>
                                        <td><select asp-for="VendorDetail.Country" asp-items="ViewBag.ListOfCountries" class="selectpicker" data-width="100%" disabled></select> </td>
                                    </tr>
                                    <tr>
                                        <td><strong>Fax No</strong></td>
                                        <td>:</td>
                                        <td>@Html.DisplayFor(a => a.VendorDetail.VendorFaxNo)</td>
                                    </tr>

                                    <tr>
                                        <td><strong>NPWP No.</strong></td>
                                        <td>:</td>
                                        <td>@Html.DisplayFor(a => a.VendorDetail.NpwpNo)</td>
                                    </tr>
                                    <tr>
                                        <td><strong>SIUP No.</strong></td>
                                        <td>:</td>
                                        <td>@Html.DisplayFor(a => a.VendorDetail.SiupNo)</td>
                                    </tr>
                                    <tr>
                                        <td><strong>Contact Name</strong></td>
                                        <td>:</td>
                                        <td>@Html.DisplayFor(a => a.VendorDetail.ContactName)</td>
                                    </tr>
                                    <tr>
                                        <td><strong>Contact No</strong></td>
                                        <td>:</td>
                                        <td>@Html.DisplayFor(a => a.VendorDetail.Contact)</td>
                                    </tr>
                                    <tr>
                                        <td><strong>Contact Email</strong></td>
                                        <td>:</td>
                                        <td>@Html.DisplayFor(a => a.VendorDetail.ContactEmail)</td>
                                    </tr>
                                    <tr>
                                        <td><strong>Invoice To</strong></td>
                                        <td>:</td>
                                        <td>@Html.DisplayFor(a => a.VendorDetail.InvoiceName)</td>
                                    </tr>
                                    <tr>
                                        <td><strong>Invoice To Contact</strong></td>
                                        <td>:</td>
                                        <td>@Html.DisplayFor(a => a.VendorDetail.InvoiceContact)</td>
                                    </tr>
                                    <tr>
                                        <td><strong>Invoice To Email</strong></td>
                                        <td>:</td>
                                        <td>@Html.DisplayFor(a => a.VendorDetail.InvoiceEmail)</td>
                                    </tr>
                                    <tr>
                                        <td><strong>Swift Code</strong></td>
                                        <td>:</td>
                                        <td>@Html.DisplayFor(a => a.VendorDetail.Swiftcode)</td>
                                    </tr>
                                    <tr>
                                        <td><strong>Bank Account 1</strong></td>
                                        <td>:</td>
                                        <td>@Html.DisplayFor(a => a.VendorDetail.Bank_Account1)</td>
                                    </tr>
                                    <tr>
                                        <td><strong>Bank Account 2</strong></td>
                                        <td>:</td>
                                        <td>@Html.DisplayFor(a => a.VendorDetail.Bank_Account2)</td>
                                    </tr>
                                    <tr>
                                        <td><strong>Currency</strong></td>
                                        <td>:</td>
                                        <td>@Html.DisplayFor(a => a.VendorDetail.Currency)</td>
                                    </tr>
                                    <tr>
                                        <td><strong>Vendor Detail Code</strong></td>
                                        <td>:</td>
                                        <td><span id="VendorsNo">@Html.DisplayFor(a => a.VendorDetail.VendorNo)</span></td>
                                    </tr>
                                    <tr>
                                        <td><strong>Active</strong></td>
                                        <td>:</td>
                                        <td><span id="IsActive">@Html.DisplayFor(a => a.VendorDetail.IsActive)</span></td>
                                    </tr>
                                    <tr>
                                        <td><strong>Vendor File</strong></td>
                                        <td>:</td>
                                        <td><button type="button" id="btn-download-pdf" class="btn btn-danger bg waves-effect"><span class="zmdi zmdi-collection-pdf"></span> Download</button></td>
                                    </tr>
                                </table>
                                
                            </div>
                        </div>
                    </div>
                </div>
                <br /><br />
                <div class="form-group">
                    <form id="form-input" role="form" method="post" asp-controller="Vendors" asp-action="ActivateVendor">
                        <input asp-for="VendorDetail.Id" id="vendor-detail-id" hidden />
                        <div class="col-md-6">

                            <div class="input-group fg-float">
                                <span class="input-group-addon"><i class="zmdi zmdi-flag"></i></span>
                                <div class="fg-line">
                                    <label>Payment Terms<span class="text-danger">*</span></label>
                                    <select asp-for="VendorDetail.PaymentTerms" asp-items="ViewBag.ListOfPaymentTerms" class="selectpicker" data-width="100%" data-live-search="true" id="PaymentTerms" required>
                                        <option></option>
                                    </select>
                                </div>
                            </div><br /><br />

                            <div class="input-group fg-float">
                                <span class="input-group-addon"><i class="zmdi zmdi-money-box"></i></span>
                                <div class="fg-line">
                                    <label>Vendor Posting Group</label>
                                    <select asp-for="VendorDetail.VendorPostingGroup" asp-items="ViewBag.ListOfVendorPostingGroup" class="selectpicker" data-width="100%" data-live-search="true" id="VendorPostingGroup">
                                        <option value=""></option>
                                    </select>
                                </div>
                            </div><br /><br />

                        </div>

                        <div class="col-md-6">

                            <div class="input-group fg-float">
                                <span class="input-group-addon"><i class="zmdi zmdi-local-mall"></i></span>
                                <div class="fg-line">
                                    <label>Gen Business Posting group <span class="text-danger">*</span></label>
                                    <select asp-for="VendorDetail.GenBusPostingGroup" asp-items="ViewBag.ListOfGenBusPostingGroup" class="selectpicker" data-width="100%" data-live-search="true" id="GenBusPostingGroup" required>
                                        <option></option>
                                    </select>
                                </div>
                            </div><br /><br />

                            <div class="input-group fg-float">
                                <span class="input-group-addon"><i class="zmdi zmdi-money"></i></span>
                                <div class="fg-line">
                                    <label>VAT Business Posting group<span class="text-danger">*</span></label>
                                    <select asp-for="VendorDetail.VATBusPostingGroup" asp-items="ViewBag.ListOfVATBusPostingGroup" class="selectpicker" data-width="100%" data-live-search="true" id="VATBusPostingGroup" required>
                                        <option></option>
                                    </select>
                                </div>
                            </div><br /><br />

                            <div class="input-group fg-float">
                                <span class="input-group-addon"><i class="zmdi zmdi-pin-drop"></i></span>
                                <div class="fg-line">
                                    <label>Location Code</label>
                                    <select asp-for="VendorDetail.LocationCode" asp-items="ViewBag.ListOfLocationCode" class="selectpicker" data-width="100%" data-live-search="true" id="LocationCode">
                                        <option value=""></option>
                                    </select>
                                </div>
                            </div><br /><br />

                        </div>

                        <center><button type="submit" class="btn btn-lg palette-Blue bg waves-effect" id="ActivateUser"><span class="zmdi zmdi-shield-check"></span> Activate</button></center>
                        <center><button type="button" class="btn btn-lg palette-Green bg waves-effect" id="DeactivateUser"><span class="zmdi zmdi-lock-open"> Re-Open</span></button></center>
                    </form>
                    <br /><br />
                </div>
            </div>
        </div>
    </div>
</section>
@section Scripts{
<script type="text/javascript" src="~/ThemeForest/fancybox/dist/jquery.fancybox.min.js"></script>
<script type="text/javascript" src="~/ThemeForest/vendors/bower-components/bootstrap-select/dist/js/bootstrap-select.js"></script>
<script type="text/javascript" src="~/ThemeForest/sweetalert2/sweetalert2.all.min.js"></script>

<!--Document Ready Function-->
<script>
    $(document).ready(function () {
        $("#link-pict").fancybox();
        var a = $("#IsActive").text();
        if (a == "Yes") {
            $("#form-activate").hide();
            $("#ActivateUser").hide();
            $("#PaymentTerms").prop("disabled", "disabled");
            $("#GenBusPostingGroup").prop("disabled", "disabled");
            $("#VATBusPostingGroup").prop("disabled", "disabled");
            $("#VendorPostingGroup").prop("disabled", "disabled");
            $("#LocationCode").prop("disabled", "disabled");
            $("#DeactivateUser").show();
        }
        else {
            $("#form-activate").show();
            $("#ActivateUser").show();
            $("#PaymentTerms").prop("disabled", false);
            $("#VendorPostingGroup").prop("disabled", false);
            $("#VATBusPostingGroup").prop("disabled", false);
            $("#VendorPostingGroup").prop("disabled", false);
            $("#LocationCode").prop("disabled", false);
            $("#DeactivateUser").hide();
        }
    })
</script>
<script>
    $("#btn-download-pdf").click(function () {
        var vendorId = $("#VendorId").text();
        var link = "/Vendors/DownloadPDFVendorForOtherUseraaWFSMweqlacvghdasny?wiudadvgvasdmelpwtanyqeqead=" + vendorId;
        var win = window.open(link, '_blank');
        win.focus();
    })
</script>
<script>
    var companyNames = $("#vendor-names").text();
     $('#form-input').submit(function (e, params) {
        var localParams = params || {};

        if (!localParams.send) {
            e.preventDefault();
        }

        Swal.fire({
            title: 'Are You Sure?',
            text: 'Are you sure to activate '+ companyNames+' ?',
            icon: 'question',
            showCancelButton: true,
            confirmButtonColor: '#3085d6',
            cancelButtonColor: '#d33',
            confirmButtonText: '<i class="zmdi zmdi-shield-check"></i> Activate!',
            cancelButtonText: 'Cancel',
            closeOnConfirm: true
        }).then((result) => {
            if (result.value) {
                $(e.currentTarget).trigger(e.type, { 'send': true });
            }
        })
    });
</script>
    <script>
        $("#DeactivateUser").click(function () {
            var VendorsId = $("#VendorId").text();
            window.location.href = "/Vendors/DeactivateUsersywbccbhs3u2ioiueewue812e?jdjjdfbb23io2idvdcmelaskjonyp=" + VendorsId;

        })
    </script>
 }

@section Styles{
    <link rel="stylesheet" href="~/ThemeForest/fancybox/dist/jquery.fancybox.min.css" />
    <link rel="stylesheet" href="~/ThemeForest/vendors/bower-components/bootstrap-select/dist/css/bootstrap-select.css" />
<style>
    .table-custom{
        border-collapse: collapse;
        border-spacing: 0;
        padding:3px;
    }
    .table-custom td,
    .table-custom tr,
    .table-custom th{
        padding:4px;
    }
</style>

 }